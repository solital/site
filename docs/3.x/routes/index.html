<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Routes - Solital Framework</title>
  <link rel="shortcut icon" href="../img/favicon.ico">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/sidebar.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/styles/default.css">
  <link rel="stylesheet" href="../css/styles/atom-one-dark.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../js/bootstrap.bundle.min.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/scripts.js"></script>
  <script>hljs.highlightAll();</script>

  
  

  
    <script src="../search/main.js"></script>
  

  

</head>

<body>
  <div class="dashboard">
    <div class="dashboard-nav">
      <header class="mb-4">
        <a href="#!" class="menu-toggle">
          <i class="fas fa-bars"></i>
        </a>

        <a href="#" class="brand-logo">
          <img src="../img/solital-logo-2-sm-trans-2.png" alt="Solital Framework">
        </a>
      </header>

      <nav class="dashboard-nav-list">
        
        
  <a href=".." class="dashboard-nav-item ">
    Starting
  </a>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Upgrade
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="https://github.com/solital/core/releases" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Release Notes
      </a>
    
      <a href="../upgrade-guide/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Upgrade Guide
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Settings
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="../installation/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Installing
      </a>
    
      <a href="../environment-variables/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Environment Variables
      </a>
    
      <a href="../yaml-files/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> YAML Files
      </a>
    
      <a href="../helpers/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Helpers
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle active ">
    Routers
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="./" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Routes
      </a>
    
      <a href="../middleware/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Middleware
      </a>
    
      <a href="../url/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> URL
      </a>
    
      <a href="../events/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Events
      </a>
    
      <a href="../input-and-params/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Input and params
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Components
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="../vinci-console/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Vinci Console
      </a>
    
      <a href="../cache/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Cache
      </a>
    
      <a href="../dependency-container/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Dependency Container
      </a>
    
      <a href="../event-loop/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Event Loop
      </a>
    
      <a href="../http-client/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> HTTP Client
      </a>
    
      <a href="../wolf-template/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Wolf Template
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Resources
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="../date-and-time/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Date and time
      </a>
    
      <a href="../file-system/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> File System
      </a>
    
      <a href="../json/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> JSON
      </a>
    
      <a href="../logger/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Logger
      </a>
    
      <a href="../mailer-component/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Mailer
      </a>
    
      <a href="../session-and-cookie/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Session and Cookie
      </a>
    
      <a href="../validation-component/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Validation
      </a>
    
      <a href="../messages/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Messages
      </a>
    
      <a href="../queue/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Queue
      </a>
    
      <a href="../collection/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Collection
      </a>
    
      <a href="../string-manipulate/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Strings
      </a>
    
      <a href="../mask/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Mask
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Security
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="../authenticate/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Authenticate
      </a>
    
      <a href="../cryptography/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Cryptography
      </a>
    
      <a href="../csrf-protection/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> CSRF Protection
      </a>
    
      <a href="../secure-password/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Secure Password
      </a>
    
      <a href="../verify-domain/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Verify Domain
      </a>
    
      <a href="../recovery-password/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Recovery Password
      </a>
    
  </div>
</div>

        
        
<div class="dashboard-nav-dropdown">
  <a href="#!" class="dashboard-nav-item dashboard-nav-dropdown-toggle ">
    Database
  </a>

  <div class="dashboard-nav-dropdown-menu">
    
      <a href="../migrations/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Migrations
      </a>
    
      <a href="../seeders/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Seeders
      </a>
    
      <a href="../dump/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Dump
      </a>
    
      <a href="../katrina-orm/" class="dashboard-nav-dropdown-item text-black">
        <span class="text-danger" style="margin-right: 10px;">&#10140;</span> Katrina ORM
      </a>
    
  </div>
</div>

        
        
  <a href="../deploy/" class="dashboard-nav-item ">
    Deploy
  </a>

        
      </nav>
    </div>

    <div class="dashboard-app">
      <header class="dashboard-toolbar">
        <a href="#!" class="menu-toggle btn-menu"><i class="fas fa-bars"></i></a>
      </header>

      <div class="dashboard-content">
        <div class="container">

          <section class="container-fluid section">
            <div class="row">
              <div class="col-md-12 w-100">
                <h1 class="mt-4 font-weight-normal title-page">Routes</h1>
              </div>

              <div class="col-md-12 mt-3">
                

                <ul class="ml-5 mb-5">
                  
                    <li><a href="#basic-routing">Basic routing</a></li>
                  
                    <li><a href="#available-methods">Available methods</a></li>
                  
                    <li><a href="#multiple-http-verbs">Multiple HTTP-verbs</a></li>
                  
                    <li><a href="#default-base-path">Default Base Path</a></li>
                  
                  
                    <li><a href="#route-parameters">Route parameters</a></li>
                  
                    <li><a href="#required-parameters">Required parameters</a></li>
                  
                    <li><a href="#optional-parameters">Optional parameters</a></li>
                  
                    <li><a href="#regular-expression-constraints">Regular expression constraints</a></li>
                  
                    <li><a href="#regular-expression-route-match">Regular expression route-match</a></li>
                  
                    <li><a href="#custom-regex-for-matching-parameters">Custom regex for matching parameters</a></li>
                  
                  
                    <li><a href="#named-routes">Named routes</a></li>
                  
                    <li><a href="#generating-urls-to-named-routes">Generating URLs To Named Routes</a></li>
                  
                  
                    <li><a href="#router-groups">Router groups</a></li>
                  
                    <li><a href="#namespaces">Namespaces</a></li>
                  
                    <li><a href="#subdomain-routing">Subdomain-routing</a></li>
                  
                    <li><a href="#route-prefixes">Route prefixes</a></li>
                  
                  
                    <li><a href="#partial-groups">Partial groups</a></li>
                  
                  
                    <li><a href="#exception">Exception</a></li>
                  
                    <li><a href="#error-route">Error route</a></li>
                  
                  
                    <li><a href="#url-rewriting">URL Rewriting</a></li>
                  
                    <li><a href="#changing-current-route">Changing current route</a></li>
                  
                    <li><a href="#bootmanager-loading-routes-dynamically">Bootmanager: loading routes dynamically</a></li>
                  
                    <li><a href="#adding-routes-manually">Adding routes manually</a></li>
                  
                  
                    <li><a href="#extending">Extending</a></li>
                  
                  
                    <li><a href="#form-method-spoofing">Form Method Spoofing</a></li>
                  
                  
                    <li><a href="#accessing-the-current-route">Accessing The Current Route</a></li>
                  
                  
                    <li><a href="#other-examples">Other examples</a></li>
                  
                  
                </ul>

                
                <h2 id="basic-routing">Basic routing</h2>
<p>Below is a very basic example of setting up a route. First parameter is the url which the route should match - next parameter is a <code>Closure</code> or callback function that will be triggered once the route matches.</p>
<pre><code class="language-php">Course::get('/', function() {
    return 'Hello world';
});
</code></pre>
<h3 id="available-methods">Available methods</h3>
<p>Here you can see a list over all available routes:</p>
<pre><code class="language-php">Course::get($url, $callback, $settings);
Course::post($url, $callback, $settings);
Course::put($url, $callback, $settings);
Course::patch($url, $callback, $settings);
Course::delete($url, $callback, $settings);
Course::options($url, $callback, $settings);
</code></pre>
<h3 id="multiple-http-verbs">Multiple HTTP-verbs</h3>
<p>Sometimes you might need to create a route that accepts multiple HTTP-verbs. If you need to match all HTTP-verbs you can use the <code>any</code> method.</p>
<pre><code class="language-php">Course::match(['get', 'post'], '/', function() {
    // ...
});

Course::any('foo', function() {
    // ...
});
</code></pre>
<p>We've created a simple method which matches <code>GET</code> and <code>POST</code> which is most commonly used:</p>
<pre><code class="language-php">Course::form('foo', function() {
    // ...
});
</code></pre>
<h3 id="default-base-path">Default Base Path</h3>
<p>This will allows users to set a default basepath for all url requests, which will be prepended to all url parameters.</p>
<pre><code class="language-php">Course::setDefaultBasepath('/forum')
</code></pre>
<h2 id="route-parameters">Route parameters</h2>
<h3 id="required-parameters">Required parameters</h3>
<p>You'll properly wondering by know how you parse parameters from your urls. For example, you might want to capture the users id from an url. You can do so by defining route-parameters.</p>
<pre><code class="language-php">Course::get('/user/{id}', function ($userId) {
    return 'User with id: ' . $userId;
});
</code></pre>
<p>You may define as many route parameters as required by your route:</p>
<pre><code class="language-php">Course::get('/posts/{post}/comments/{comment}', function ($postId, $commentId) {
    // ...
});
</code></pre>
<p><strong>Note:</strong> Route parameters are always encased within <code>{}</code> braces and should consist of alphabetic characters. Route parameters may not contain a <code>-</code> character. Use an underscore <code>_</code> instead.</p>
<h3 id="optional-parameters">Optional parameters</h3>
<p>Occasionally you may need to specify a route parameter, but make the presence of that route parameter optional. You may do so by placing a <code>?</code> mark after the parameter name. Make sure to give the route's corresponding variable a default value:</p>
<pre><code class="language-php">Course::get('/user/{name?}', function ($name = null) {
    return $name;
});

Course::get('/user/{name?}', function ($name = 'Simon') {
    return $name;
});
</code></pre>
<h3 id="regular-expression-constraints">Regular expression constraints</h3>
<p>You may constrain the format of your route parameters using the where method on a route instance. The where method accepts the name of the parameter and a regular expression defining how the parameter should be constrained:</p>
<pre><code class="language-php">Course::get('/user/{name}', function ($name) {

    // ... do stuff

})-&gt;where('name', '[A-Za-z]+');

Course::get('/user/{id}', function ($id) {

    // ... do stuff

})-&gt;where('id', '[0-9]+');

Course::get('/user/{id}/{name}', function ($id, $name) {

    // ... do stuff

})-&gt;where(['id' =&gt; '[0-9]+', 'name' =&gt; '[a-z]+']);
</code></pre>
<h3 id="regular-expression-route-match">Regular expression route-match</h3>
<p>You can define a regular-expression match for the entire route if you wish.</p>
<p>This is useful if you for example are creating a model-box which loads urls from ajax.</p>
<p>The example below is using the following regular expression: <code>/ajax/([\w]+)/?([0-9]+)?/?</code> which basically just matches <code>/ajax/</code> and exspects the next parameter to be a string - and the next to be a number (but optional).</p>
<p><strong>Matches:</strong> <code>/ajax/abc/</code>, <code>/ajax/abc/123/</code></p>
<p><strong>Won't match:</strong> <code>/ajax/</code></p>
<p>Match groups specified in the regex will be passed on as parameters:</p>
<pre><code class="language-php">Course::all('/ajax/abc/123', function($param1, $param2) {
    // param1 = abc
    // param2 = 123
})-&gt;setMatch('/\/ajax\/([\w]+)\/?([0-9]+)?\/?/is');
</code></pre>
<h3 id="custom-regex-for-matching-parameters">Custom regex for matching parameters</h3>
<p>By default Solital uses the <code>\w</code> regular expression when matching parameters.
This decision was made with speed and reliability in mind, as this match will match both letters, number and most of the used symbols on the internet.</p>
<p>However, sometimes it can be necessary to add a custom regular expression to match more advanced characters like <code>-</code> etc.</p>
<p>Instead of adding a custom regular expression to all your parameters, you can simply add a global regular expression which will be used on all the parameters on the route.</p>
<p><strong>Note:</strong> If you the regular expression to be available across, we recommend using the global parameter on a group as demonstrated in the examples below.</p>
<h4 id="example">Example</h4>
<p>This example will ensure that all parameters use the <code>[\w\-]+</code> regular expression when parsing.</p>
<pre><code class="language-php">Course::get('/path/{parameter}', 'VideoController@home', ['defaultParameterRegex' =&gt; '[\w\-]+']);
</code></pre>
<p>You can also apply this setting to a group if you need multiple routes to use your custom regular expression when parsing parameters.</p>
<pre><code class="language-php">Course::group(['defaultParameterRegex' =&gt; '[\w\-]+'], function() {

    Course::get('/path/{parameter}', 'VideoController@home');

});
</code></pre>
<h2 id="named-routes">Named routes</h2>
<p>Named routes allow the convenient generation of URLs or redirects for specific routes. You may specify a name for a route by chaining the name method onto the route definition:</p>
<pre><code class="language-php">Course::get('/user/profile', function () {
    // Your code here
})-&gt;name('profile');
</code></pre>
<p>You can also specify names for Controller-actions:</p>
<pre><code class="language-php">Course::get('/user/profile', 'UserController@profile')-&gt;name('profile');
</code></pre>
<h3 id="generating-urls-to-named-routes">Generating URLs To Named Routes</h3>
<p>Once you have assigned a name to a given route, you may use the route's name when generating URLs or redirects via the global <code>url</code> helper-function (see helpers section):</p>
<pre><code class="language-php">// Generating URLs...
$url = url('profile');
</code></pre>
<p>If the named route defines parameters, you may pass the parameters as the second argument to the <code>url</code> function. The given parameters will automatically be inserted into the URL in their correct positions:</p>
<pre><code class="language-php">Course::get('/user/{id}/profile', function ($id) {
    //
})-&gt;name('profile');

$url = url('profile', ['id' =&gt; 1]);
</code></pre>
<p>For more information on urls, please see the <a href="#urls">Urls</a> section.</p>
<h2 id="router-groups">Router groups</h2>
<p>Route groups allow you to share route attributes, such as middleware or namespaces, across a large number of routes without needing to define those attributes on each individual route. Shared attributes are specified in an array format as the first parameter to the <code>Course::group</code> method.</p>
<h3 id="namespaces">Namespaces</h3>
<p>Solital already has the default namespace to search for controllers (<code>Solital\Components\Controller</code>)</p>
<h4 id="note">Note</h4>
<p>Group namespaces will only be added to routes with relative callbacks.
For example if your route has an absolute callback like <code>UserController@home</code>, the namespace from the route will not be prepended.
To fix this you can make the callback relative by removing the <code>\</code> in the beginning of the callback.</p>
<pre><code class="language-php">Course::group(['namespace' =&gt; 'Admin'], function () {
    // Controllers Within The &quot;App\Http\Controllers\Admin&quot; Namespace
});
</code></pre>
<h3 id="subdomain-routing">Subdomain-routing</h3>
<p>Route groups may also be used to handle sub-domain routing. Sub-domains may be assigned route parameters just like route urls, allowing you to capture a portion of the sub-domain for usage in your route or controller. The sub-domain may be specified using the <code>domain</code> key on the group attribute array:</p>
<pre><code class="language-php">Course::group(['domain' =&gt; '{account}.myapp.com'], function () {
    Course::get('/user/{id}', function ($account, $id) {
        //
    });
});
</code></pre>
<h3 id="route-prefixes">Route prefixes</h3>
<p>The <code>prefix</code> group attribute may be used to prefix each route in the group with a given url. For example, you may want to prefix all route urls within the group with <code>admin</code>:</p>
<pre><code class="language-php">Course::group(['prefix' =&gt; '/admin'], function () {
    Course::get('/users', function ()    {
        // Matches The &quot;/admin/users&quot; URL
    });
});
</code></pre>
<h2 id="partial-groups">Partial groups</h2>
<p>Partial router groups has the same benefits as a normal group, but supports parameters and are only rendered once the url has matched.</p>
<p>This can be extremely useful in situations, where you only want special routes to be added, when a certain criteria or logic has been met.</p>
<p><strong>NOTE:</strong> Use partial groups with caution as routes added within are only rendered and available once the url of the partial-group has matched. This can cause <code>url()</code> not to find urls for the routes added within.</p>
<p><strong>Example:</strong></p>
<pre><code class="language-php">Course::partialGroup('/admin/{applicationId}', function ($applicationId) {

    Course::get('/', function($applicationId) {

        // Matches The &quot;/admin/applicationId&quot; URL

    });

});
</code></pre>
<h2 id="exception">Exception</h2>
<p>ExceptionHandler are classes that handles all exceptions. ExceptionsHandlers must implement the <code>ExceptionHandlerInterface</code> interface.</p>
<h3 id="error-route">Error route</h3>
<p>If a given route does not exist in your <code>routers.php</code> file, you can redirect to another route instead of displaying the route not found error using the <code>error()</code> method. If <code>true</code>, the redirection will be done. If <code>false</code>, you will not be redirected.</p>
<pre><code class="language-php">Course::error(true, '/error');

Course::get('/error', function () {
    echo 'error 404';
});
</code></pre>
<h2 id="url-rewriting">URL Rewriting</h2>
<h3 id="changing-current-route">Changing current route</h3>
<p>Sometimes it can be useful to manipulate the route about to be loaded.
Solital allows you to easily manipulate and change the routes which are about to be rendered.
All information about the current route is stored in the <code>\Solital\Core\Course\Router</code> instance's <code>loadedRoute</code> property.</p>
<p>For easy access you can use the shortcut helper function <code>request()</code> instead of calling the class directly <code>\Solital\Core\Course\Course::router()</code>.</p>
<pre><code class="language-php">request()-&gt;setRewriteCallback('Example\MyCustomClass@hello');

// -- or you can rewrite by url --

request()-&gt;setRewriteUrl('/my-rewrite-url');
</code></pre>
<h3 id="bootmanager-loading-routes-dynamically">Bootmanager: loading routes dynamically</h3>
<p>Sometimes it can be necessary to keep urls stored in the database, file or similar. In this example, we want the url <code>/my-cat-is-beatiful</code> to load the route <code>/article/view/1</code> which the router knows, because it's defined in the <code>routes.php</code> file.</p>
<p>To interfere with the router, we create a class that implements the <code>RouterBootManagerInterface</code> interface. This class will be loaded before any other rules in <code>routes.php</code> and allow us to "change" the current route, if any of our criteria are fulfilled (like coming from the url <code>/my-cat-is-beatiful</code>).</p>
<pre><code class="language-php">use Solital\Core\Http\Request;
use Solital\Core\Course\RouterBootManagerInterface;
use Solital\Core\Course\Router;

class CustomRouterRules implements RouterBootManagerInterface 
{

    /**
     * Called when router is booting and before the routes is loaded.
     *
     * @param \Solital\Core\Course\Router $router
     * @param \Solital\Core\Http\Request $request
     */
    public function boot(\Solital\Core\Course\Router $router, \Solital\Core\Http\Request $request): void
    {

        $rewriteRules = [
            '/my-cat-is-beatiful' =&gt; '/article/view/1',
            '/horses-are-great'   =&gt; '/article/view/2',
        ];

        foreach ($rewriteRules as $url =&gt; $rule) {

            // If the current url matches the rewrite url, we use our custom route

            if ($request-&gt;getUri()-&gt;getPath() === $url) {
                $request-&gt;setRewriteUrl($rule);
            }
        }

    }

}
</code></pre>
<p>The above should be pretty self-explanatory and can easily be changed to loop through urls store in the database, file or cache.</p>
<p>What happens is that if the current route matches the route defined in the index of our <code>$rewriteRules</code> array, we set the route to the array value instead.</p>
<p>By doing this the route will now load the url <code>/article/view/1</code> instead of <code>/my-cat-is-beatiful</code>.</p>
<p>The last thing we need to do, is to add our custom boot-manager to the <code>routes.php</code> file. You can create as many bootmanagers as you like and easily add them in your <code>routes.php</code> file.</p>
<pre><code class="language-php">Course::addBootManager(new CustomRouterRules());
</code></pre>
<h3 id="adding-routes-manually">Adding routes manually</h3>
<p>The <code>Course</code> class referenced in the previous example, is just a simple helper class that knows how to communicate with the <code>Router</code> class.
If you are up for a challenge, want the full control or simply just want to create your own <code>Router</code> helper class, this example is for you.</p>
<pre><code class="language-php">use \Solital\Core\Course\Router;
use \Solital\Core\Course\Route\RouteUrl;

/* Create new Router instance */
$router = new Router();

$route = new RouteUrl('/answer/1', function() {

    die('this callback will match /answer/1');

});

$route-&gt;addMiddleware(\Demo\Middlewares\AuthMiddleware::class);
$route-&gt;setNamespace('\Demo\Controllers');
$route-&gt;setPrefix('v1');

/* Add the route to the router */
$router-&gt;addRoute($route);
</code></pre>
<h2 id="extending">Extending</h2>
<p>This is a simple example of an integration into a framework.</p>
<p>The framework has it's own <code>Router</code> class which inherits from the <code>Course</code> class. This allows the framework to add custom functionality like loading a custom <code>routes.php</code> file or add debugging information etc.</p>
<pre><code class="language-php">namespace Demo;

use Solital\Core\Course\Course;

class Router extends Course {

    public static function start() {

        // change default namespace for all routes
        parent::setDefaultNamespace('\Demo\Controllers');

        // change this to whatever makes sense in your project
        require_once 'routes.php';

        // Do initial stuff
        parent::start();

    }

}
</code></pre>
<hr />
<h2 id="form-method-spoofing">Form Method Spoofing</h2>
<p>HTML forms do not support <code>PUT</code>,<code>PATCH</code> or <code>DELETE</code> actions. Therefore, when defining the <code>PUT</code>,<code>PATCH</code> or <code>DELETE</code> routes that are called from an HTML form, you will need to use the <code>spoofing</code> helper to add a hidden <code>_method</code> field to the form. The value sent with the <code>_method</code> field will be used as the HTTP request method:</p>
<pre><code class="language-php">&lt;form method=&quot;post&quot; action=&quot;{{ url() }}&quot;&gt;
    {{ spoofing('put'); }}
    &lt;!-- other input elements here --&gt;
&lt;/form&gt;
</code></pre>
<h2 id="accessing-the-current-route">Accessing The Current Route</h2>
<p>You can access information about the current route loaded by using the following method:</p>
<pre><code class="language-php">Course::request()-&gt;getLoadedRoute();
request()-&gt;getLoadedRoute();
</code></pre>
<h2 id="other-examples">Other examples</h2>
<p>You can find many other examples in the sample file below:</p>
<pre><code class="language-php">&lt;?php
use Solital\Core\Course\Course;

/* Adding custom csrfVerifier here */
Course::csrfVerifier(new \Demo\Middlewares\CsrfVerifier());

Course::group(['middleware' =&gt; \Demo\Middlewares\Site::class, 'exceptionHandler' =&gt; \Demo\Handlers\CustomExceptionHandler::class], function() {

    Course::get('/answers/{id}', 'ControllerAnswers@show', ['where' =&gt; ['id' =&gt; '[0-9]+']]);

    /**
     * Restful resource (see IRestController interface for available methods)
     */

    Course::resource('/rest', ControllerRessource::class);

    /**
     * Load the entire controller (where url matches method names - getIndex(), postIndex(), putIndex()).
     * The url paths will determine which method to render.
     *
     * For example:
     *
     * GET  /animals         =&gt; getIndex()
     * GET  /animals/view    =&gt; getView()
     * POST /animals/save    =&gt; postSave()
     *
     * etc.
     */

    Course::controller('/animals', ControllerAnimals::class);

});

Course::get('/page/404', 'ControllerPage@notFound', ['as' =&gt; 'page.notfound']);

</code></pre>
                

                <hr />

                
                <h3>What to see next?</h3>

                <section aria-label="breadcrumb" class="mt-4">
                  <ol class="breadcrumb">
                    
                      <li class="breadcrumb-item"><a href="../helpers/">&#8592; Helpers</a></li>
                    
                    
                      <li class="breadcrumb-item"><a href="../middleware/">Middleware &#8594;</a></li>
                    
                  </ol>
                </section>
                

              </div>

              <hr>

              <div class="row text-center mt-3">
                <div class="col-md-12 ml-2">
                  Built with <a href="https://www.mkdocs.org">MkDocs</a>.
                </div>
              </div>
            </div>

            <!--
              MkDocs version      : 1.5.3
              Docs Build Date UTC : 2023-11-10 11:10:40.152525+00:00
              -->

          </section>
        </div>
      </div>
    </div>
  </div>
</body>

</html>