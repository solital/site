<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Logger - Solital Framework</title>
  <link rel="shortcut icon" href="../img/favicon.ico">

  <!-- <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"> -->
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/bootstrap.css">
  <link rel="stylesheet" href="../css/sidebar.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/theme-2.css">
  <link rel="stylesheet" href="../css/styles/default.css">
  <link rel="stylesheet" href="../css/custom.css">
  <link rel="stylesheet" href="../css/code-1.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="../js/bootstrap.js"></script>
  <script src="../js/bootstrap.bundle.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/nav.js"></script>
  <script src="../js/popper.min.js"></script>
  <script src="../js/scripts.js"></script>
  <script>hljs.highlightAll();</script>

  
  

  
  <script src="../search/main.js"></script>
  

  

</head>

<body>
  <div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="border-right bg-menu" id="sidebar-wrapper">
      <div class="sidebar-heading">
        <a class="navbar-brand">
          <img class="d-inline-block align-top img-fluid logo-menu" src="../img/solital-logo-2-sm-trans-2.png">
        </a>
      </div>
      <div class="scroll">
        <ul class="list-group list-group-flush bg-menu">
          
          
  <a href=".." class="list-group-item list-group-item-action no-border bg-menu ">
    Starting
  </a>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Settings"
data-toggle="collapse" aria-expanded="false">
  Settings
</a>
<ul class="collapse list-unstyled" id="Settings">
    
    <a href="../installation/" class="subitem">
      <li>Installing</li>
    </a>
    
    <a href="../env/" class="subitem">
      <li>Environment variables</li>
    </a>
    
    <a href="../helpers/" class="subitem">
      <li>Helpers</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Routers"
data-toggle="collapse" aria-expanded="false">
  Routers
</a>
<ul class="collapse list-unstyled" id="Routers">
    
    <a href="../routes/" class="subitem">
      <li>Routes</li>
    </a>
    
    <a href="../events/" class="subitem">
      <li>Events</li>
    </a>
    
    <a href="../input/" class="subitem">
      <li>Input and params</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Components"
data-toggle="collapse" aria-expanded="false">
  Components
</a>
<ul class="collapse list-unstyled" id="Components">
    
    <a href="../vinci/" class="subitem">
      <li>Vinci Console</li>
    </a>
    
    <a href="../cache/" class="subitem">
      <li>Cache</li>
    </a>
    
    <a href="../container/" class="subitem">
      <li>Dependency Container</li>
    </a>
    
    <a href="../http-client/" class="subitem">
      <li>HTTP Client</li>
    </a>
    
    <a href="../wolf/" class="subitem">
      <li>Wolf Template</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu active-list " href="#Resources"
data-toggle="collapse" aria-expanded="false">
  Resources
</a>
<ul class="collapse list-unstyled" id="Resources">
    
    <a href="../date/" class="subitem">
      <li>Date and time</li>
    </a>
    
    <a href="../filesystem/" class="subitem">
      <li>File System</li>
    </a>
    
    <a href="../json/" class="subitem">
      <li>JSON</li>
    </a>
    
    <a href="./" class="subitem">
      <li>Logger</li>
    </a>
    
    <a href="../mail/" class="subitem">
      <li>Mail</li>
    </a>
    
    <a href="../session-cookie/" class="subitem">
      <li>Session and Cookie</li>
    </a>
    
    <a href="../validate/" class="subitem">
      <li>Validation</li>
    </a>
    
    <a href="../messages/" class="subitem">
      <li>View Alerts</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Security"
data-toggle="collapse" aria-expanded="false">
  Security
</a>
<ul class="collapse list-unstyled" id="Security">
    
    <a href="../auth/" class="subitem">
      <li>Authenticate</li>
    </a>
    
    <a href="../crypt/" class="subitem">
      <li>Cryptography</li>
    </a>
    
    <a href="../csrf/" class="subitem">
      <li>CSRF Protection</li>
    </a>
    
    <a href="../forgot/" class="subitem">
      <li>Recovery Password</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Database"
data-toggle="collapse" aria-expanded="false">
  Database
</a>
<ul class="collapse list-unstyled" id="Database">
    
    <a href="../sql/" class="subitem">
      <li>Builder SQL</li>
    </a>
    
    <a href="../katrina/" class="subitem">
      <li>Katrina ORM</li>
    </a>
    
</ul>

          
          
  <a href="../deploy/" class="list-group-item list-group-item-action no-border bg-menu ">
    Deploy
  </a>

          
        </ul>
      </div>
      <!-- <hr>
      <button class="btn btn-1 dropdown-toggle ml-2" type="button" id="dropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Vers√£o do Solital
      </button>
      <div class="dropdown-menu bg-1" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item text-white" href="#">1.0</a>
      </div> -->
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
      <nav class="navbar navbar-expand-lg navbar-light w-100" style="margin-left: -1px;">
        <button class="btn btn-1" id="menu-toggle">
          <i class="fas fa-arrows-alt-h p-1"></i>
        </button>

        <button class="navbar-toggler navbar-icon" type="button" data-toggle="collapse"
          data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="http://solitalframework.com">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Doc Version
              </a>
              <div class="dropdown-menu bg-1" aria-labelledby="navbarDropdown" style="width: 10% !important;">
                <a class="dropdown-item txt-8" href="https://solital.github.io/docs-v1/">1.x</a>
              </div>
            </li>
            <li class="nav-item">
              <div role="search">
                <form action="../search.html" method="get">
                  <input type="search" name="q" placeholder="&#xf002; Search..." class="input-search"
                    autocomplete="off" />
                </form>
              </div>
            </li>
          </ul>
        </div>
      </nav>

      <section class="container-fluid section">
        <div class="row">
          <div class="col-md-12 w-100">
            <h1 class="mt-4 font-weight-normal">Logger</h1>
          </div>
  
          <div class="col-md-12 mt-3">
            
  
            <ul class="ml-5 mb-5">
              
              <li><a href="#simple-20-second-getting-started-tutorial">Simple 20-Second Getting-Started Tutorial</a></li>
              
              
              <li><a href="#extended-example">Extended Example</a></li>
              
              
              <li><a href="#log-output">Log Output</a></li>
              
              
              <li><a href="#log-levels">Log Levels</a></li>
              
              
              <li><a href="#contextual-data">Contextual Data</a></li>
              
              
              <li><a href="#logging-exceptions">Logging Exceptions</a></li>
              
              
              <li><a href="#log-channels">Log Channels</a></li>
              
              
              <li><a href="#debug-features">Debug Features</a></li>
              
              <li><a href="#logging-to-stdout">Logging to STDOUT</a></li>
              
              <li><a href="#dummy-logger">Dummy Logger</a></li>
              
              
            </ul>
  
            
            <p>Logger is a powerful PSR-3 logger for PHP that is simple to use.</p>
<p>Simplicity is achieved by providing great defaults. No options to configure! Yet flexible enough to meet most logging needs.
And if your application's logging needs expand beyond what Logger provides, since it implements PSR-3, you can drop in
another great PSR-3 logger like <a href="https://github.com/Seldaek/monolog">MonoLog</a> in its place when the time comes with minimal changes.</p>
<p>Made by <a href="https://github.com/markrogoyski/simplelog-php">markrogoyski</a></p>
<h3 id="simple-20-second-getting-started-tutorial">Simple 20-Second Getting-Started Tutorial</h3>
<pre><code class="language-php">use Solital\Core\Resource\Logger;

$channel = 'events';
$logger  = new Logger($channel);

$logger-&gt;info('Logger really is simple.');
</code></pre>
<p>That's it! Your application is logging!</p>
<h3 id="extended-example">Extended Example</h3>
<pre><code class="language-php">use Solital\Core\Resource\Logger;

$channel = 'billing';
$logger  = new Logger($channel);

$logger-&gt;info('Begin process that usually fails.', ['process' =&gt; 'invoicing', 'user' =&gt; $user]);

try {
    invoiceUser($user); // This usually fails
} catch (\Exception $e) {
    $logger-&gt;error('Billing failure.', ['process' =&gt; 'invoicing', 'user' =&gt; $user, 'exception' =&gt; $e]);
}
</code></pre>
<p>Logger output</p>
<pre><code>2017-02-13 00:35:55.426630  [info]  [billing] [pid:17415] Begin process that usually fails. {&quot;process&quot;:&quot;invoicing&quot;,&quot;user&quot;:&quot;bob&quot;}  {}
2017-02-13 00:35:55.430071  [error] [billing] [pid:17415] Billing failure.  {&quot;process&quot;:&quot;invoicing&quot;,&quot;user&quot;:&quot;bob&quot;}  {&quot;message&quot;:&quot;Could not process invoice.&quot;,&quot;code&quot;:0,&quot;file&quot;:&quot;/path/to/app.php&quot;,&quot;line&quot;:20,&quot;trace&quot;:[{&quot;file&quot;:&quot;/path/to/app.php&quot;,&quot;line&quot;:13,&quot;function&quot;:&quot;invoiceUser&quot;,&quot;args&quot;:[&quot;mark&quot;]}]}
</code></pre>
<h3 id="log-output">Log Output</h3>
<p>Log lines have the following format:</p>
<pre><code>YYYY-mm-dd HH:ii:ss.uuuuuu  [loglevel]  [channel]  [pid:##]  Log message content  {&quot;Optional&quot;:&quot;JSON Contextual Support Data&quot;}  {&quot;Optional&quot;:&quot;Exception Data&quot;}
</code></pre>
<p>Log lines are easily readable and parsable. Log lines are always on a single line. Fields are tab separated.</p>
<h3 id="log-levels">Log Levels</h3>
<p>Logger has eight log level severities based on <a href="http://www.php-fig.org/psr/psr-3/#psrlogloglevel">PSR Log Levels</a>.</p>
<pre><code class="language-php">$logger-&gt;debug('Detailed information about the application run.');
$logger-&gt;info('Informational messages about the application run.');
$logger-&gt;notice('Normal but significant events.');
$logger-&gt;warning('Information that something potentially bad has occured.');
$logger-&gt;error('Runtime error that should be monitored.');
$logger-&gt;critical('A service is unavailable or unresponsive.');
$logger-&gt;alert('The entire site is down.');
$logger-&gt;emergency('The Web site is on fire.');
</code></pre>
<p>By default all log levels are logged. The minimum log level can be changed in two ways:
 * Optional constructor parameter
 * Setter method at any time</p>
<pre><code class="language-php">use Solital\Core\Resource\Logger;
use Psr\Log\LogLevel;

// Optional constructor Parameter (Only error and above are logged [error, critical, alert, emergency])
$logger = new Logger($logfile, $channel, LogLevel::ERROR);

// Setter method (Only warning and above are logged)
$logger-&gt;setLogLevel(LogLevel::WARNING);
</code></pre>
<h3 id="contextual-data">Contextual Data</h3>
<p>Logger enables logging best practices to have general-use log messages with contextual support data to give context to the message.</p>
<p>The second argument to a log message is an associative array of key-value pairs that will log as a JSON string, serving as the contextual support data to the log message.</p>
<pre><code class="language-php">// Add context to a Web request.
$log-&gt;info('Web request initiated', ['method' =&gt; 'GET', 'endpoint' =&gt; 'user/account', 'queryParameters' =&gt; 'id=1234']);

// Add context to a disk space warning.
$log-&gt;warning('Free space is below safe threshold.', ['volume' =&gt; '/var/log', 'availablePercent' =&gt; 4]);
</code></pre>
<h3 id="logging-exceptions">Logging Exceptions</h3>
<p>Exceptions are logged with the contextual data using the key <em>exception</em> and the value the exception variable.</p>
<pre><code class="language-php">catch (\Exception $e) {
    $logger-&gt;error('Something exceptional has happened', ['exception' =&gt; $e]);
}
</code></pre>
<h3 id="log-channels">Log Channels</h3>
<p>Think of channels as namespaces for log lines. If you want to have multiple loggers or applications logging to a single log file, channels are your friend.</p>
<p>Channels can be set in two ways:
 * Constructor parameter
 * Setter method at any time</p>
<pre><code class="language-php">use Solital\Core\Resource\Logger;

// Constructor Parameter
$channel = 'router';
$logger  = new Logger($logfile, $channel);

// Setter method
$logger-&gt;setChannel('database');
</code></pre>
<h3 id="debug-features">Debug Features</h3>
<h4 id="logging-to-stdout">Logging to STDOUT</h4>
<p>When developing, you can turn on log output to the screen (STDOUT) as a convenience.</p>
<pre><code class="language-php">$logger-&gt;setOutput(true);
$logger-&gt;debug('This will get logged to STDOUT as well as the log file.');
</code></pre>
<h4 id="dummy-logger">Dummy Logger</h4>
<p>Suppose you need a logger to meet an injected dependency during a unit test, and you don't want it to actually log anything.
You can set the log level to <code>Logger::LOG_LEVEL_NONE</code> which won't log at any level.</p>
<pre><code class="language-php">use Solital\Core\Resource\Logger;

$logger-&gt;setLogLevel(Logger::LOG_LEVEL_NONE);
$logger-&gt;info('This will not log to a file.');
</code></pre>
            
  
            <hr />
  
            <h3>What to see next?</h3>
  
            <section class="container">
              
            
              <div class="row mt-3">
                <nav class="col-md-6 col-sm-12">
                  <ul class="form-inline next">
                    
                    <li class="next-li"><a href="../json/"
                        title="JSON">&#8592; JSON</a></li>
                    
                    
                    
                    <li class="next-li"><a href="../mail/" title="Mail" />Mail
                      &#8594;</a></li>
                    
                  </ul>
                </nav>
              </div>
              
              
            </section>
          </div>
  
          <hr>
  
          <div class="row text-center mt-3">
            <div class="col-md-12 ml-2">
              Built with <a href="https://www.mkdocs.org">MkDocs</a>.
            </div>
          </div>
        </div>

        <!--
          MkDocs version      : 1.1.2
          Docs Build Date UTC : 2021-07-20 11:35:57.250138+00:00
          -->

      </section>
    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->

</body>

</html>