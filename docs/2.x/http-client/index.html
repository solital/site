<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTTP Client - Solital Framework</title>
  <link rel="shortcut icon" href="../img/favicon.ico">

  <!-- <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css"> -->
  <link rel="stylesheet" href="../css/reset.css">
  <link rel="stylesheet" href="../css/bootstrap.css">
  <link rel="stylesheet" href="../css/sidebar.css">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/theme-2.css">
  <link rel="stylesheet" href="../css/styles/default.css">
  <link rel="stylesheet" href="../css/custom.css">
  <link rel="stylesheet" href="../css/code-1.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />

  

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="../js/bootstrap.js"></script>
  <script src="../js/bootstrap.bundle.js"></script>
  <script src="../js/highlight.pack.js"></script>
  <script src="../js/nav.js"></script>
  <script src="../js/popper.min.js"></script>
  <script src="../js/scripts.js"></script>
  <script>hljs.highlightAll();</script>

  
  

  
  <script src="../search/main.js"></script>
  

  

</head>

<body>
  <div class="d-flex" id="wrapper">
    <!-- Sidebar -->
    <div class="border-right bg-menu" id="sidebar-wrapper">
      <div class="sidebar-heading">
        <a class="navbar-brand">
          <img class="d-inline-block align-top img-fluid logo-menu" src="../img/solital-logo-2-sm-trans-2.png">
        </a>
      </div>
      <div class="scroll">
        <ul class="list-group list-group-flush bg-menu">
          
          
  <a href=".." class="list-group-item list-group-item-action no-border bg-menu ">
    Starting
  </a>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Settings"
data-toggle="collapse" aria-expanded="false">
  Settings
</a>
<ul class="collapse list-unstyled" id="Settings">
    
    <a href="../installation/" class="subitem">
      <li>Installing</li>
    </a>
    
    <a href="../env/" class="subitem">
      <li>Environment variables</li>
    </a>
    
    <a href="../helpers/" class="subitem">
      <li>Helpers</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Routers"
data-toggle="collapse" aria-expanded="false">
  Routers
</a>
<ul class="collapse list-unstyled" id="Routers">
    
    <a href="../routes/" class="subitem">
      <li>Routes</li>
    </a>
    
    <a href="../events/" class="subitem">
      <li>Events</li>
    </a>
    
    <a href="../input/" class="subitem">
      <li>Input and params</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu active-list " href="#Components"
data-toggle="collapse" aria-expanded="false">
  Components
</a>
<ul class="collapse list-unstyled" id="Components">
    
    <a href="../vinci/" class="subitem">
      <li>Vinci Console</li>
    </a>
    
    <a href="../cache/" class="subitem">
      <li>Cache</li>
    </a>
    
    <a href="../container/" class="subitem">
      <li>Dependency Container</li>
    </a>
    
    <a href="./" class="subitem">
      <li>HTTP Client</li>
    </a>
    
    <a href="../wolf/" class="subitem">
      <li>Wolf Template</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Resources"
data-toggle="collapse" aria-expanded="false">
  Resources
</a>
<ul class="collapse list-unstyled" id="Resources">
    
    <a href="../date/" class="subitem">
      <li>Date and time</li>
    </a>
    
    <a href="../filesystem/" class="subitem">
      <li>File System</li>
    </a>
    
    <a href="../json/" class="subitem">
      <li>JSON</li>
    </a>
    
    <a href="../log/" class="subitem">
      <li>Logger</li>
    </a>
    
    <a href="../mail/" class="subitem">
      <li>Mail</li>
    </a>
    
    <a href="../session-cookie/" class="subitem">
      <li>Session and Cookie</li>
    </a>
    
    <a href="../validate/" class="subitem">
      <li>Validation</li>
    </a>
    
    <a href="../messages/" class="subitem">
      <li>View Alerts</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Security"
data-toggle="collapse" aria-expanded="false">
  Security
</a>
<ul class="collapse list-unstyled" id="Security">
    
    <a href="../auth/" class="subitem">
      <li>Authenticate</li>
    </a>
    
    <a href="../crypt/" class="subitem">
      <li>Cryptography</li>
    </a>
    
    <a href="../csrf/" class="subitem">
      <li>CSRF Protection</li>
    </a>
    
    <a href="../forgot/" class="subitem">
      <li>Recovery Password</li>
    </a>
    
</ul>

          
          
<a class="list-group-item list-group-item-action no-border bg-menu " href="#Database"
data-toggle="collapse" aria-expanded="false">
  Database
</a>
<ul class="collapse list-unstyled" id="Database">
    
    <a href="../sql/" class="subitem">
      <li>Builder SQL</li>
    </a>
    
    <a href="../katrina/" class="subitem">
      <li>Katrina ORM</li>
    </a>
    
</ul>

          
          
  <a href="../deploy/" class="list-group-item list-group-item-action no-border bg-menu ">
    Deploy
  </a>

          
        </ul>
      </div>
      <!-- <hr>
      <button class="btn btn-1 dropdown-toggle ml-2" type="button" id="dropdownMenuButton" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        Vers√£o do Solital
      </button>
      <div class="dropdown-menu bg-1" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item text-white" href="#">1.0</a>
      </div> -->
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
      <nav class="navbar navbar-expand-lg navbar-light w-100" style="margin-left: -1px;">
        <button class="btn btn-1" id="menu-toggle">
          <i class="fas fa-arrows-alt-h p-1"></i>
        </button>

        <button class="navbar-toggler navbar-icon" type="button" data-toggle="collapse"
          data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="http://solitalframework.com">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Doc Version
              </a>
              <div class="dropdown-menu bg-1" aria-labelledby="navbarDropdown" style="width: 10% !important;">
                <a class="dropdown-item txt-8" href="https://solital.github.io/docs-v1/">1.x</a>
              </div>
            </li>
            <li class="nav-item">
              <div role="search">
                <form action="../search.html" method="get">
                  <input type="search" name="q" placeholder="&#xf002; Search..." class="input-search"
                    autocomplete="off" />
                </form>
              </div>
            </li>
          </ul>
        </div>
      </nav>

      <section class="container-fluid section">
        <div class="row">
          <div class="col-md-12 w-100">
            <h1 class="mt-4 font-weight-normal">HTTP Client</h1>
          </div>
  
          <div class="col-md-12 mt-3">
            
  
            <ul class="ml-5 mb-5">
              
              <li><a href="#requirements">Requirements</a></li>
              
              
              <li><a href="#basic-use">Basic use</a></li>
              
              
              <li><a href="#supported-methods">Supported methods</a></li>
              
              
              <li><a href="#return-types">Return types</a></li>
              
              
              <li><a href="#sending-data">Sending data</a></li>
              
              
              <li><a href="#custom-headers">Custom Headers</a></li>
              
              
              <li><a href="#enabling-ssl-verification">Enabling SSL verification</a></li>
              
              
              <li><a href="#authentication">Authentication</a></li>
              
              <li><a href="#basic-auth">Basic Auth</a></li>
              
              
              <li><a href="#securing-routes">Securing routes</a></li>
              
              <li><a href="#with-basic-auth">With Basic Auth</a></li>
              
              <li><a href="#with-digest-auth">With Digest Auth</a></li>
              
              
            </ul>
  
            
            <p>Solital has a component to manipulate the HTTP client, useful for consuming API and making HTTP requests.</p>
<p>Before, you will need to install the component using the command below:</p>
<pre><code>composer require solital/http-client
</code></pre>
<h2 id="requirements">Requirements</h2>
<ul>
<li>PHP 7.4 or PHP ^8.0</li>
<li>CURL extension enabled</li>
</ul>
<h2 id="basic-use">Basic use</h2>
<p>To make basic use of the component, you will need to instantiate the <code>HttpClient</code> class. Then, call the <code>request</code> function, passing the method (GET, POST, ...) and the url as a parameter. Then return the data.</p>
<pre><code class="language-php">use Solital\HttpClient;

$client = new HttpClient();
$client-&gt;request(&quot;GET&quot;, &quot;http://api.url.com&quot;);
$res = $client-&gt;toJson();

pre($res);
</code></pre>
<h2 id="supported-methods">Supported methods</h2>
<p>HttpClient supports the methods below.</p>
<ul>
<li>GET</li>
<li>POST</li>
<li>PUT</li>
<li>DELETE</li>
<li>PATCH</li>
<li>OPTIONS</li>
</ul>
<h2 id="return-types">Return types</h2>
<p>You can return the answer in json, array or object. The methods below show an example.</p>
<pre><code class="language-php">$client = new HttpClient();
$client-&gt;request(&quot;GET&quot;, &quot;http://api.url.com&quot;);

/** Return json */
$res = $client-&gt;toJson();

/** Return array */
$res = $client-&gt;toArray();

/** Return object */
$res = $client-&gt;toObject();

pre($res);
</code></pre>
<h2 id="sending-data">Sending data</h2>
<p>If you are using a POST or PUT request, for example, and need to send data to the HTTP header, you can pass an array with the values in the <code>request</code> method.</p>
<pre><code class="language-php">$client = new HttpClient();

$res = $client-&gt;request(&quot;PUT&quot;, &quot;http://api.url.com&quot;, [
    'data' =&gt; 'your_data_values'
])-&gt;toJson();

echo $res;
</code></pre>
<h2 id="custom-headers">Custom Headers</h2>
<p>By default, HttpClient has the following headers:</p>
<ul>
<li>Content-Type: application/json</li>
<li>Accept: application/json</li>
</ul>
<p>To add other headers to the request, use an array in the constructor on the instance.</p>
<pre><code class="language-php">$headers = [
    'Content-Type: application/pdf'
];

$client = new HttpClient($headers);
#...
</code></pre>
<h2 id="enabling-ssl-verification">Enabling SSL verification</h2>
<p>HttpClient by default does not perform SSL verification. To enable verification, use the <code>enableSSL</code> method.</p>
<pre><code class="language-php">$client = new HttpClient();
$client-&gt;enableSSL();
#...
</code></pre>
<h2 id="authentication">Authentication</h2>
<h3 id="basic-auth">Basic Auth</h3>
<p>To perform authentication on an API that requires basic authentication, you can use the second parameter to inform the user and password. It is necessary to inform an array containing the indexes <code>user</code> and<code>pass</code>.</p>
<pre><code class="language-php">$client = new HttpClient(null, [
    'user' =&gt; 'username',
    'pass' =&gt; '123'
]);

$client-&gt;request(&quot;GET&quot;, &quot;http://api.url.com&quot;);
$res = $client-&gt;toJson();

pre($res);
</code></pre>
<h2 id="securing-routes">Securing routes</h2>
<h3 id="with-basic-auth">With Basic Auth</h3>
<p>Basic authentication requires the username and password in the class constructor. If an index other than <code>user</code> and<code>pass</code> is informed, an exception will be thrown.</p>
<p>You can protect your routes through basic authentication as shown below.</p>
<pre><code class="language-php">use Solital\Http\Auth\HttpAuth;

$auth = new HttpAuth([
    'user' =&gt; 'username',
    'pass' =&gt; '123'
]);
$auth-&gt;basic();
</code></pre>
<h3 id="with-digest-auth">With Digest Auth</h3>
<p>In digest authentication, it is not necessary to inform anything in the constructor, just pass the allowed users with their respective passwords as a parameter in the <code>digest</code> method.</p>
<pre><code class="language-php">use Solital\Http\Auth\HttpAuth;

$auth = new HttpAuth();
# 'username' =&gt; 'password'
$auth-&gt;digest(['admin' =&gt; 'pass1', 'admin2' =&gt; 'pass2', ...]);
</code></pre>
            
  
            <hr />
  
            <h3>What to see next?</h3>
  
            <section class="container">
              
            
              <div class="row mt-3">
                <nav class="col-md-6 col-sm-12">
                  <ul class="form-inline next">
                    
                    <li class="next-li"><a href="../container/"
                        title="Dependency Container">&#8592; Dependency Container</a></li>
                    
                    
                    
                    <li class="next-li"><a href="../wolf/" title="Wolf Template" />Wolf Template
                      &#8594;</a></li>
                    
                  </ul>
                </nav>
              </div>
              
              
            </section>
          </div>
  
          <hr>
  
          <div class="row text-center mt-3">
            <div class="col-md-12 ml-2">
              Built with <a href="https://www.mkdocs.org">MkDocs</a>.
            </div>
          </div>
        </div>

        <!--
          MkDocs version      : 1.1.2
          Docs Build Date UTC : 2021-07-20 11:35:57.218884+00:00
          -->

      </section>
    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->

</body>

</html>